<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Elementos del Barco - Ejercicio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1976d2">
  <style>
    body {
      font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      background-color: #f8fafc;
      color: #334155;
      -webkit-tap-highlight-color: transparent;
    }
    main {
      flex-grow: 1;
      padding-top: 1rem;
      padding-bottom: 1rem;
    }
    header, footer {
      flex-shrink: 0;
    }
    button, 
    a {
      min-height: 44px;
      min-width: 44px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .progress-container {
      width: 100%;
      background-color: transparent;
      border-radius: 0.5rem;
      margin: 1.5rem 0;
      position: relative;
      height: 1.5rem;
      overflow: visible;
    }
    .progress-bar {
      width: 0%;
      height: 100%;
      background-color: transparent;
      border-radius: 0.5rem;
      transition: width 2s ease-in-out;
      position: relative;
      z-index: 1;
    }
    .boat {
      position: absolute;
      top: -0.5rem;
      left: 0;
      width: 3rem;
      height: 2.5rem;
      transition: left 2s ease-in-out;
      transform: translateX(-50%);
      z-index: 2;
    }
    .boat svg {
      width: 100%;
      height: 100%;
    }
    .wind-particles {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      z-index: 10;
      width: 100vw;
      opacity: 0;
      transition: opacity 0.3s ease;
      overflow: visible;
    }
    .wind-particles.active {
      opacity: 1;
    }
    .wind-particle {
      position: absolute;
      width: 40px;
      height: 2px;
      background: linear-gradient(to right, 
        rgba(220, 220, 220, 0) 0%,
        rgba(220, 220, 220, 0.3) 20%,
        rgba(220, 220, 220, 0.7) 50%,
        rgba(220, 220, 220, 0.3) 80%,
        rgba(220, 220, 220, 0) 100%
      );
      border-radius: 1px;
      animation: wind 3s linear infinite;
      left: 0;
      transform-origin: center;
      filter: blur(0.5px);
    }
    @keyframes wind {
      0% {
        transform: translateX(-100vw) scaleX(0.2);
        opacity: 0;
      }
      5% {
        transform: translateX(-80vw) scaleX(1.2);
        opacity: 0.7;
      }
      95% {
        transform: translateX(80vw) scaleX(1.2);
        opacity: 0.7;
      }
      100% {
        transform: translateX(100vw) scaleX(0.2);
        opacity: 0;
      }
    }
    .wind-particles.wind-left .wind-particle {
      animation-direction: reverse;
    }
    @keyframes windReverse {
      0% {
        transform: translateX(100vw) scaleX(0.2);
        opacity: 0;
      }
      5% {
        transform: translateX(80vw) scaleX(1.2);
        opacity: 0.7;
      }
      95% {
        transform: translateX(-80vw) scaleX(1.2);
        opacity: 0.7;
      }
      100% {
        transform: translateX(-100vw) scaleX(0.2);
        opacity: 0;
      }
    }
    .boat img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .question {
      margin: 1.5rem 0;
      padding: 1.5rem;
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    }
    .options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
      margin-top: 1rem;
    }
    .option {
      padding: 0.75rem 1rem;
      background-color: white;
      border: 1px solid #e2e8f0;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .option:hover {
      background-color: #f8fafc;
      border-color: #94a3b8;
    }
    .option.correct {
      background-color: #dcfce7;
      border-color: #86efac;
      color: #166534;
    }
    .option.incorrect {
      background-color: #fee2e2;
      border-color: #fca5a5;
      color: #991b1b;
      animation: shake 0.5s ease-in-out;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    .feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 0.5rem;
    }
    .feedback.correct {
      background-color: #dcfce7;
      color: #166534;
    }
    .feedback.incorrect {
      background-color: #fee2e2;
      color: #991b1b;
    }
    .next-button {
      display: none;
    }
    @media screen and (max-width: 768px) {
      html {
        -webkit-text-size-adjust: 100%;
      }
      #exercise-content {
        padding: 1rem !important;
      }
    }
    @media (min-width: 768px) {
      main {
        padding-top: 2rem;
        padding-bottom: 2rem;
      }
      #exercise-content {
        padding: 2rem !important;
      }
    }
  </style>
</head>
<body class="bg-slate-50 text-slate-700">
  <header class="bg-sky-700 shadow-sm">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-0">
      <h1 class="text-lg sm:text-xl md:text-2xl font-bold text-white">Elementos del Barco</h1>
      <a href="index.html" class="w-full sm:w-auto text-sm sm:text-base text-white hover:text-sky-100 font-medium px-3 py-2 sm:px-4 sm:py-2 rounded-md border border-white hover:bg-sky-600 transition-colors text-center">&larr; Volver al Manual</a>
    </div>
  </header>

  <main class="max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8">
    <div id="exercise-content" class="bg-white rounded-lg shadow-lg">
      <div class="p-6">
        <div class="progress-container">
          <div class="progress-bar"></div>
          <div class="wind-particles"></div>
          <div class="boat">
            <img src="assets/sailboat-256x256.png" alt="Barco">
          </div>
        </div>
        <div id="question-container"></div>
      </div>
    </div>
  </main>

  <footer class="bg-slate-100 border-t border-slate-200 mt-auto">
    <div class="max-w-4xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8 text-center">
      <p class="text-xs text-slate-500">© ${new Date().getFullYear()} Sailut. Todos los derechos reservados.</p>
    </div>
  </footer>

  

  <script>
    const allQuestions = [
      {
        definition: "Tercio trasero del costado de un barco",
        correctAnswer: "Aleta",
        options: ["Aleta", "Amura", "Borda", "Regala"]
      },
      {
        definition: "Tercio delantero del costado de un barco",
        correctAnswer: "Amura",
        options: ["Aleta", "Amura", "Borda", "Regala"]
      },
      {
        definition: "Curvatura que tienen los buques, en sentido longitudinal, elevando sus extremos",
        correctAnswer: "Arrufo",
        options: ["Arrufo", "Quebranto", "Puntal", "Eslora"]
      },
      {
        definition: "Lados o costados del barco en sentido longitudinal",
        correctAnswer: "Bandas",
        options: ["Bandas", "Bordes", "Costados", "Laterales"]
      },
      {
        definition: "Algo está a ______ si se encuentra en la banda desde donde sopla el viento",
        correctAnswer: "Barlovento",
        options: ["Barlovento", "Sotavento", "Proa", "Popa"]
      },
      {
        definition: "Costado izquierdo del buque mirando de popa a proa",
        correctAnswer: "Babor",
        options: ["Babor", "Estribor", "Proa", "Popa"]
      },
      {
        definition: "Canto superior de los bordes del barco",
        correctAnswer: "Borda",
        options: ["Borda", "Regala", "Cubierta", "Carroza"]
      },
      {
        definition: "Estructura que se eleva sobre cubierta, dando lugar a los interiores del barco",
        correctAnswer: "Carroza",
        options: ["Carroza", "Cubierta", "Borda", "Regala"]
      },
      {
        definition: "Pieza de gran robustez que, unida a la quilla, termina el barco en la popa",
        correctAnswer: "Codaste",
        options: ["Codaste", "Roda", "Quilla", "Quillote"]
      },
      {
        definition: "Cada uno de los pisos que, apoyados sobre los baos, cierran el casco en su parte superior",
        correctAnswer: "Cubierta",
        options: ["Cubierta", "Carroza", "Borda", "Regala"]
      },
      {
        definition: "Piezas transversales que, partiendo de la quilla, forman el armazón del barco",
        correctAnswer: "Cuadernas",
        options: ["Cuadernas", "Baos", "Quilla", "Codaste"]
      },
      {
        definition: "Peso del barco expresado en toneladas métricas",
        correctAnswer: "Desplazamiento",
        options: ["Desplazamiento", "Eslora", "Manga", "Puntal"]
      },
      {
        definition: "Longitud de una embarcación",
        correctAnswer: "Eslora",
        options: ["Eslora", "Manga", "Puntal", "Desplazamiento"]
      },
      {
        definition: "Longitud que resulta de medir, de proa a popa, la distancia existente entre los extremos a nivel de la línea de flotación",
        correctAnswer: "Eslora en flotación",
        options: ["Eslora en flotación", "Eslora máxima", "Manga en flotación", "Manga máxima"]
      },
      {
        definition: "Longitud máxima total entre los extremos más distantes, midiendo de proa a popa",
        correctAnswer: "Eslora máxima",
        options: ["Eslora máxima", "Eslora en flotación", "Manga máxima", "Manga en flotación"]
      },
      {
        definition: "Parte del casco que conforma la popa",
        correctAnswer: "Espejo",
        options: ["Espejo", "Codaste", "Roda", "Quilla"]
      },
      {
        definition: "Costado derecho del buque mirando de popa a proa",
        correctAnswer: "Estribor",
        options: ["Estribor", "Babor", "Proa", "Popa"]
      },
      {
        definition: "Línea proa-popa que divide longitudinalmente el barco en dos mitades",
        correctAnswer: "Línea de crujía",
        options: ["Línea de crujía", "Línea de flotación", "Eslora", "Manga"]
      },
      {
        definition: "Línea divisoria entre la parte del casco que queda sumergida y la que emerge del agua",
        correctAnswer: "Línea de flotación",
        options: ["Línea de flotación", "Línea de crujía", "Eslora", "Manga"]
      },
      {
        definition: "Ancho de una embarcación",
        correctAnswer: "Manga",
        options: ["Manga", "Eslora", "Puntal", "Desplazamiento"]
      },
      {
        definition: "Ancho de la embarcación, medido sobre la línea de flotación",
        correctAnswer: "Manga en flotación",
        options: ["Manga en flotación", "Manga máxima", "Eslora en flotación", "Eslora máxima"]
      },
      {
        definition: "Ancho máximo total, tomando como referencia los extremos más distantes",
        correctAnswer: "Manga máxima",
        options: ["Manga máxima", "Manga en flotación", "Eslora máxima", "Eslora en flotación"]
      },
      {
        definition: "Parte del casco que queda por encima de la línea de flotación",
        correctAnswer: "Obra muerta",
        options: ["Obra muerta", "Obra viva", "Cubierta", "Carroza"]
      },
      {
        definition: "También llamada carena, es la parte del casco que queda por debajo de la línea de flotación",
        correctAnswer: "Obra viva",
        options: ["Obra viva", "Obra muerta", "Cubierta", "Carroza"]
      },
      {
        definition: "Sector del casco comprendido entre la quilla y la línea de flotación, donde el costado de la embarcación pasa a ser el fondo",
        correctAnswer: "Pantoque",
        options: ["Pantoque", "Quilla", "Codaste", "Roda"]
      },
      {
        definition: "Corredores laterales para transitar de proa a popa",
        correctAnswer: "Pasillos",
        options: ["Pasillos", "Cubierta", "Carroza", "Borda"]
      },
      {
        definition: "Parte trasera del buque tomando como referencia la dirección en la que avanza",
        correctAnswer: "Popa",
        options: ["Popa", "Proa", "Babor", "Estribor"]
      },
      {
        definition: "Parte delantera del buque tomando como referencia la dirección en la que avanza",
        correctAnswer: "Proa",
        options: ["Proa", "Popa", "Babor", "Estribor"]
      },
      {
        definition: "Distancia medida desde la cubierta hasta la quilla",
        correctAnswer: "Puntal",
        options: ["Puntal", "Eslora", "Manga", "Desplazamiento"]
      },
      {
        definition: "Lo contrario al arrufo. Forma que presenta el casco de un buque cuyo sector medio se encuentra más elevado que su proa y su popa",
        correctAnswer: "Quebranto",
        options: ["Quebranto", "Arrufo", "Puntal", "Eslora"]
      },
      {
        definition: "Pieza longitudinal sobre la que se asientan las cuadernas y que sirve de soporte a todo el buque",
        correctAnswer: "Quilla",
        options: ["Quilla", "Codaste", "Roda", "Quillote"]
      },
      {
        definition: "Pieza rellena de hormigón o plomo sujeta a la quilla, destinada a disminuir el desplazamiento que sufre el barco por efecto del viento",
        correctAnswer: "Quillote",
        options: ["Quillote", "Quilla", "Codaste", "Roda"]
      },
      {
        definition: "Moldura que se coloca en la unión entre la cubierta y las bandas",
        correctAnswer: "Regala",
        options: ["Regala", "Borda", "Cubierta", "Carroza"]
      },
      {
        definition: "Pieza sólida ubicada sobre la quilla, a proa del buque",
        correctAnswer: "Roda",
        options: ["Roda", "Codaste", "Quilla", "Quillote"]
      },
      {
        definition: "Parte interior del casco, habitualmente cubierta por el piso interior de la embarcación, donde tienden a depositarse residuos líquidos",
        correctAnswer: "Sentina",
        options: ["Sentina", "Cubierta", "Carroza", "Borda"]
      },
      {
        definition: "Estará a ______ si nos referimos a la banda por la que el viento se aleja",
        correctAnswer: "Sotavento",
        options: ["Sotavento", "Barlovento", "Proa", "Popa"]
      },
      {
        definition: "Pieza plana articulada en un eje vertical, ubicada en popa del barco, y que se utiliza para guiar al mismo en la dirección deseada",
        correctAnswer: "Timón",
        options: ["Timón", "Quilla", "Codaste", "Roda"]
      },
      {
        definition: "Sector medio, perpendicular a la crujía, de cada una de las bandas en sentido longitudinal",
        correctAnswer: "Través",
        options: ["Través", "Proa", "Popa", "Babor"]
      }
    ];

    let questions = [];
    let currentQuestionIndex = 0;
    let correctAnswers = 0;

    function selectRandomQuestions() {
      // Mezclar todas las preguntas y seleccionar 7
      questions = [...allQuestions]
        .sort(() => Math.random() - 0.5)
        .slice(0, 7);
    }

    function createWindParticles() {
      const container = document.querySelector('.wind-particles');
      container.innerHTML = '';
      
      // Crear 25 partículas
      for (let i = 0; i < 25; i++) {
        const particle = document.createElement('div');
        particle.className = 'wind-particle';
        
        // Distribuir verticalmente
        const top = Math.random() * 100;
        particle.style.top = `${top}%`;
        
        // Retraso aleatorio para cada partícula
        const delay = Math.random() * 3;
        particle.style.animationDelay = `${delay}s`;
        
        container.appendChild(particle);
      }
    }

    function updateWindDirection(isCorrect) {
      const container = document.querySelector('.wind-particles');
      const particles = document.querySelectorAll('.wind-particle');
      
      // Activar el contenedor de partículas
      container.classList.add('active');
      
      // Aplicar la animación a cada partícula
      particles.forEach((particle, index) => {
        const currentDelay = particle.style.animationDelay;
        if (isCorrect) {
          particle.style.animation = `wind 4s cubic-bezier(0.4, 0, 0.2, 1) ${currentDelay} infinite`;
        } else {
          particle.style.animation = `windReverse 4s cubic-bezier(0.4, 0, 0.2, 1) ${currentDelay} infinite`;
        }
      });

      // Desactivar las partículas después de la animación
      setTimeout(() => {
        container.classList.remove('active');
        // Reiniciar las partículas para la próxima vez
        setTimeout(createWindParticles, 300);
      }, 4000);
    }

    function updateProgress() {
      const progress = (correctAnswers / questions.length) * 100;
      const progressBar = document.querySelector('.progress-bar');
      const boat = document.querySelector('.boat');
      
      progressBar.style.width = `${progress}%`;
      boat.style.left = `${progress}%`;
    }

    function showQuestion() {
      // Verificar si necesitamos seleccionar nuevas preguntas
      if (currentQuestionIndex >= questions.length) {
        selectRandomQuestions();
        currentQuestionIndex = 0;
      }

      const question = questions[currentQuestionIndex];
      document.getElementById('question-container').innerHTML = `
        <div class="question">
          <p>${question.definition}</p>
          <div class="options">
            ${question.options.map(option => `
              <div class="option" onclick="checkAnswer('${option}')">${option}</div>
            `).join('')}
          </div>
        </div>
      `;
      
      updateProgress();
    }

    function checkAnswer(selectedOption) {
      const currentQuestion = questions[currentQuestionIndex];
      const options = document.querySelectorAll('.option');
      const feedback = document.createElement('div');
      feedback.className = 'feedback';
      
      if (selectedOption === currentQuestion.correctAnswer) {
        feedback.textContent = '¡Correcto!';
        feedback.className += ' correct';
        correctAnswers++;
        updateWindDirection(true);
      } else {
        feedback.textContent = 'Incorrecto. Inténtalo de nuevo.';
        feedback.className += ' incorrect';
        correctAnswers = Math.max(0, correctAnswers - 0.5);
        updateWindDirection(false);
      }
      
      options.forEach(option => {
        option.style.pointerEvents = 'none';
        if (option.textContent === currentQuestion.correctAnswer) {
          option.className += ' correct';
        } else if (option.textContent === selectedOption && selectedOption !== currentQuestion.correctAnswer) {
          option.className += ' incorrect';
        }
      });
      
      document.getElementById('question-container').appendChild(feedback);
      
      updateProgress();

      setTimeout(() => {
        const progress = (correctAnswers / questions.length) * 100;
        
        if (progress >= 100) {
          document.getElementById('question-container').innerHTML = `
            <div class="feedback correct">
              <h2>¡Felicidades!</h2>
              <p>Has completado el ejercicio con éxito.</p>
              <button onclick="location.reload()" class="bg-sky-600 hover:bg-sky-700 text-white font-medium px-6 py-3 rounded-lg transition-colors">
                Volver a empezar
              </button>
            </div>
          `;
        } else {
          currentQuestionIndex++;
          showQuestion();
        }
      }, 2500);
    }

    function startExercise() {
      // Reiniciar el ejercicio
      currentQuestionIndex = 0;
      correctAnswers = 0;
      questions = getRandomQuestions(7);
      
      // Limpiar y reiniciar las partículas de viento
      const windContainer = document.querySelector('.wind-particles');
      windContainer.innerHTML = '';
      createWindParticles();
      
      // Actualizar la interfaz
      updateProgress();
      showQuestion();
      
      // Mostrar el contenedor de preguntas
      document.getElementById('questionContainer').classList.remove('hidden');
      document.getElementById('startScreen').classList.add('hidden');
    }

    // Iniciar el ejercicio
    window.onload = function() {
      selectRandomQuestions();
      currentQuestionIndex = 0;
      createWindParticles();
      showQuestion();
    };
  </script>
</body>
</html> 